- name: Install tutanota
  flatpak:
    name: com.tutanota.Tutanota
    state: present
    method: user
  tags: always
- name: Put tutanota into local bin
  file:
    src: "/home/{{current_user}}/.local/share/flatpak/exports/bin/com.tutanota.Tutanota"
    dest: "/home/{{current_user}}/.local/bin/tutanota"
    state: link
  tags: always
- name: Install sct build stuff requirements
  become: true
  apt:
    name: [ 'libx11-dev', 'libxrandr-dev' ]
  tags: always
- name: Clone sct (Xsct X11 color temperature setter)
  git:
    repo: https://github.com/faf0/sct.git
    dest: "/home/{{current_user}}/sct/"
    clone: yes
    update: yes
  tags: always
- name: Install (make) sct (Xsct X11 color temperature setter)
  become: true
  make:
    chdir: "/home/{{current_user}}/sct/"
    target: install
  tags: always
- name: Clone dunst
  git:
    repo: https://github.com/dunst-project/dunst.git
    dest: "/home/{{current_user}}/dunst"
    clone: yes
    update: yes
  tags: always
- name: Install dunst dependencies
  become: true
  apt:
    name: [ 'libdbus-1-dev', 'libx11-dev', 'libxinerama-dev', 'libxrandr-dev', 'libxss-dev', 'libglib2.0-dev', 'libpango1.0-dev', 'libgtk-3-dev', 'libxdg-basedir-dev', 'libgdk-pixbuf-2.0-dev', 'libnotify-dev' ]
  tags: always
- name: Install (make) dunst
  make:
    chdir: "/home/{{current_user}}/dunst"
  tags: always
- name: Sudo install (make) dunst
  become: yes
  make:
    chdir: "/home/{{current_user}}/dunst"
    target: install
  tags: always
